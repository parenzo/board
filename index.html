<html>
<head><h2>Crux Soundboard</h2></head>
<body onload="generateBoard()">
<style>

h2 {
}

.grid-container {
   display: inline-grid;
   grid-gap: 10px 10px;
   grid-template-columns: 30% 30% 30%; 
   width: 100vw;
   height: 80vh;
}
	
button {
   font-size: 20pt;
   font-family: "Verdana", Geneva, sans-serif;
}
</style>
<script>
	function generateButton(res)
	{
		var audioElement = document.createElement('audio');	
		audioElement.setAttribute('id', res);
		audioElement.setAttribute('src', 'crux/' + res + '.mp3');
		audioElement.setAttribute('class', 'grid-item');
		document.body.appendChild(audioElement);
		
		var div = document.getElementById('board');
		var buttonElement = document.createElement('button');
		buttonElement.setAttribute('onclick', 'document.getElementById(\'' + res +'\').play()');
		buttonElement.innerHTML = res.replace(/-/g, ' ');;
		div.appendChild(buttonElement);
	}	

	function generateBoard()
	{		
		generateButton('aggiusta-il-mic');
		generateButton('andiamo-con-ordine');
		generateButton('appassionato-di-odori');
		generateButton('arrivederci-grazie');
		generateButton('beh-amico-mio');
		generateButton('che-testa-di-cazzo');
		generateButton('chi-sei');
		generateButton('ciao-ciao');
		generateButton('giu-questo-infame');
		generateButton('mhai-rotto-i-coglioni-ciao');
		generateButton('non-me-ne-frega-niente');
		generateButton('non-sento-imbecille');
		generateButton('puttanata');
		generateButton('perchÃ©-non-chiami-bene');
		generateButton('se-non-lhai-capito');
		generateButton('sono-cruciani');
		generateButton('spiegami-bene');
		generateButton('stai-zitto-nattimo');
		generateButton('togli-il-vivavoce');
		generateButton('via-via');
		
		var button = document.getElementById('share');
		// Aggiungo un listener che resta in ascolto del click
		// ed esegue la funzione specificata
		button.addEventListener('click', function(evt){
			if (navigator.share !== undefined) {
		navigator.share({
		  title: 'Crux dice...',
		  url  : 'http://parenzo.github.io/crux/puttanata.mp3'
		})
		.then(() => console.log('Shared successfully'))
		.catch((error) => console.log('An error has occurred'));
		  } else {
			console.log('Your browser doesn\'t support Web Share API');
		  }
		}, false);
		}
	}
</script>

<br/>
<div id="board" class="grid-container">
	<button type="button" id="share"><span>Share</span></button>
</div>
</body>
</html>
